<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MTB CAT1 Peripheral driver library: SAR ADC (Successive-Approximation Register Analog to Digital Converter)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MTB CAT1 Peripheral driver library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__autanalog__sar.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a>  </div>
  <div class="headertitle">
<div class="title">SAR ADC (Successive-Approximation Register Analog to Digital Converter)<div class="ingroups"><a class="el" href="group__group__autanalog.html">AUTONOMOUS ANALOG (Autonomous Analog Block)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>This driver provides the API functions to configure the successive approximation register analog-to-digital converter (SAR ADC) subsystem of the Autonomous Analog. </p>
<p>The versatile SAR ADC is an analog-to-digital converter with a dual-core 12-bit successive approximation register. The SAR ADC (hereafter ADC) contains a High Speed (HS) Core that can operate in Active mode with the SRSS clock up to 80 MHz and a Low Power (LP) Core based on the 4.096 MHz LPOSC from the Autonomous Analog. The HS Core is not available in DeepSleep while the LP Core is available in all power modes. </p><dl class="section note"><dt>Note</dt><dd>Only one core can be active at a time.</dd></dl>
<p>The diagram below shows the SAR ADC simplified internals.</p>
<p>For more information on the ADC, refer to the device Architecture Technical Reference Manual (TRM).<br />
For the exact location of the pins, see the device datasheet.</p>
<div class="image">
<img src="LPPASS_ADC_general.png" alt="LPPASS_ADC_general.png"/>
</div>
<p>The key components of the ADC are:</p><ul>
<li>The inputs selector for routing signals from external pins (GPIO) or analog-capable internal IOs (MUX);</li>
<li>A pair of Hi-Z buffers, which are in the MUX path only and can be bypassed;</li>
<li>The sampler with sample and hold circuits (S/H) for simultaneous sampling from multiple sources:<ul>
<li>8 single-ended S/H circuits directly connected to the GPIO and available in Active mode only;</li>
<li>2 single-ended S/H circuits connected to the MUX IOs and available in Active mode only;</li>
<li>1 fully differential sampler for all sources, available in Active and Deep Sleep modes;</li>
</ul>
</li>
<li>The source of reference voltages for HS/LP ADC Cores;</li>
<li>Post-processing of the ADC output;</li>
</ul>
<h1><a class="anchor" id="group_autanalog_sar_ch"></a>
Channel Configuration</h1>
<p>The signal path to the ADC input is controlled by the logical channel (a high-level abstraction). The configuration of the ADC logical channel includes the following settings (common for HS//LP modes):</p><ul>
<li>assign the source for the ADC input (refer to <a class="el" href="group__group__autanalog__sar__enums.html#ga2b65500e6e16c746c426ffa80fc6f45c">cy_en_autanalog_sar_pin_hs_t</a> for GPIO sources and <a class="el" href="group__group__autanalog__sar__enums.html#gaaeb0350dff62f4033b50c0fdf5066163">cy_en_autanalog_sar_pin_mux_t</a> for MUX sources accordingly);</li>
<li>configuration of the allowable range for the ADC (refer to <a class="el" href="group__group__autanalog__sar__enums.html#ga045911209f6103437e61e2d06bd4031f">cy_en_autanalog_sar_limit_t</a>);</li>
<li>signed/unsigned the format for the ADC output data (refer to <a class="el" href="group__group__autanalog__sar.html#group_autanalog_sar_sign">Signed/Unsigned Output</a> chapter);</li>
<li>enable the averaging of the conversion result in HW;</li>
<li>store the conversion result in the FIFO (refer to <a class="el" href="group__group__autanalog__fifo__enums.html#ga02ab308d00a148d227ac9ed468e4ad7d">cy_en_autanalog_fifo_sel_t</a>)</li>
<li>correct the linearity of the channel - channel gain and offset (refer to <a class="el" href="group__group__autanalog__sar__enums.html#ga117bccdf177de846ea768926dbd2d9b1">cy_en_autanalog_sar_ch_coeff_t</a>)</li>
</ul>
<p>Also:</p><ul>
<li>enable the pseudo differential sampling for the single-ended ADC in HS mode (refer to <a class="el" href="structcy__stc__autanalog__sar__hs__chan__t.html#a923a6e4b8fd98329212a8cfc56891718" title="Enable Pseudo differential mode for the single-ended ADC. ">cy_stc_autanalog_sar_hs_chan_t::hsDiffEn</a>);</li>
<li>support Single-ended mode for ADC in LP mode of operation (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html#a3c0137b8b6a7f8767589ac99f9e81bef" title="Enable ADC channel differential mode. ">cy_stc_autanalog_sar_sta_lp_t::lpDiffEn</a>);</li>
<li>bypass the Hi-Z buffers for MUX channels (refer to <a class="el" href="structcy__stc__autanalog__sar__mux__chan__t.html#a6d63cc426a48ff1cdb6b77dd00202e6e" title="Bypass MUX channels buffers. ">cy_stc_autanalog_sar_mux_chan_t::buffBypass</a>)</li>
</ul>
<p>8 individually-configurable logical channels are available to the ADC in HS mode and 16 logical channels are available to the ADC in LP mode.</p>
<p>The logical channels configuration is a part of the ADC <a class="el" href="group__group__autanalog__sar.html#group_autanalog_sar_static">Static Configuration</a> (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#ad5d223dfdba7d8bcf5a578ed870ff657" title="The array of pointers to configuration structures for GPIO channels, NULL means the channel is not co...">cy_stc_autanalog_sar_sta_hs_t::hsGpioChan</a> for GPIO inputs and <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a09b5eea32576be65ba2faccb14d2cbfe">cy_stc_autanalog_sar_sta_t::intMuxChan</a> for MUX inputs accordingly).</p>
<h1><a class="anchor" id="group_autanalog_sar_static"></a>
Static Configuration</h1>
<p>The static configuration contains application-specific settings intended to remain static for any ADC application. The Autonomous Controller (AC) will NOT change the static configuration during operation.</p>
<p>The static configuration for the whole ADC consists of static configurations for the HS and LP parts (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html">cy_stc_autanalog_sar_sta_hs_t</a>, <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html">cy_stc_autanalog_sar_sta_lp_t</a>) and includes the following settings in total (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html">cy_stc_autanalog_sar_sta_t</a>):</p><ul>
<li>the reference voltage source for the HS and LP Cores of the ADC (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#a75d1b49c9deb93eeda012c3555cee568" title="Select ADC voltage reference, refer to Reference Voltage chapter. ">cy_stc_autanalog_sar_sta_hs_t::hsVref</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html#ad813e510edc5fcbe842064edc3a979f2" title="Select ADC voltage reference, refer to Reference Voltage chapter. ">cy_stc_autanalog_sar_sta_lp_t::lpVref</a>);</li>
<li>a set of sample times for the ADC input (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#ac10f1b1ad736eb97ab27155cfbb67fe5" title="The array of sample time settings represented in clock cycles for ADC HS mode, actual value is SAMPLE...">cy_stc_autanalog_sar_sta_hs_t::hsSampleTime</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html#ab2e8ef637704a86171058702f852ac7e" title="The array of sample time settings represented in clock cycles for ADC LP mode, actual value is SAMPLE...">cy_stc_autanalog_sar_sta_lp_t::lpSampleTime</a>);</li>
<li>average mode settings (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a7722e261efaee97378daa9fed5e38550" title="Enable ADC result averaging and configure averaging mode, refer to Averaging chapter. ">cy_stc_autanalog_sar_sta_t::accMode</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a5f7176ce27b189df99e0f5716ea4756c" title="Set the resolution of the averaging result if averaging performed by HW, refer to Averaging chapter...">cy_stc_autanalog_sar_sta_t::shiftMode</a>);</li>
<li>the notification of the conversion result for the selected input of the ADC or the output of the FIR filter (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#adac0292b9ad756b0a5adb643a3fab3f8" title="GPIO channels result mask, valid range 0x0...0xFF. ">cy_stc_autanalog_sar_sta_hs_t::hsGpioResultMask</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a59163863487201a2e1c351b1abac94e2" title="MUX channels result mask, valid range 0x0...0xFFFF. ">cy_stc_autanalog_sar_sta_t::muxResultMask</a> for the GPIO inputs and MUX inputs accordingly or <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#af6c56edfd96a8d8d62eb71e311b6a603" title="FIR filter result mask, valid range 0x0...0x3. ">cy_stc_autanalog_sar_sta_t::firResultMask</a> for the FIR filter output);</li>
<li>a set of conditions for the allowable range of the ADC (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#af604f6f453bdfd38940289ed9d007295" title="The array of pointers to the configuration structures for the ADC output range detection, a NULL element means that the range detection is not configured. ">cy_stc_autanalog_sar_sta_t::limitCond</a>);</li>
<li>the presence of the logical channel ID in FIFO data (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a7771af3208309bd1ffcbf2e562cd5920" title="Enable channel number identifier for data stored in FIFO, refer to Cy_AutAnalog_FIFO_ReadDataChanId f...">cy_stc_autanalog_sar_sta_t::chanID</a>);</li>
<li>the ADC calibration during start-up (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a5ac3026d7e379cb192ced1d489c7f6ae" title="Enable the ADC calibration during startup. ">cy_stc_autanalog_sar_sta_t::startupCal</a>);</li>
</ul>
<p>Also:</p><ul>
<li>Power mode for the Hi-Z buffers (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a2f853319cc08a4c82992bd2618e33bad" title="The power mode of the buffer in the ADC positive input. ">cy_stc_autanalog_sar_sta_t::posBufPwr</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a3db2e7e1cf355baee45d2dcc5286b538" title="The power mode of the buffer in the ADC negative input. ">cy_stc_autanalog_sar_sta_t::negBufPwr</a>);</li>
</ul>
<h1><a class="anchor" id="group_autanalog_sar_sequencer"></a>
Sequencer and State Transition Table</h1>
<p>The sequencer is used to control the ADC to perform an automatic scan on all enabled logical channels without MCU intervention. Each ADC Core has its own sequencer, refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html">cy_stc_autanalog_sar_seq_tab_hs_t</a> for HS mode and refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html">cy_stc_autanalog_sar_seq_tab_lp_t</a> for LP mode. Both sequencers contain up to 32 states. Each state of the sequencer defines a single step in the ADC scan.</p>
<p>The Autonomous Controller is able to trigger the ADC. It points to a particular step (Entry State) of the sequencer in runtime using the State Transition Table, refer to <a class="el" href="structcy__stc__autanalog__stt__sar__t.html">cy_stc_autanalog_stt_sar_t</a>. The next step of the sequencer is defined in the nextAction field of the sequencer configuration structure (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#acea255cf11cfdaf91ef26c0d163c8e35" title="The ADC sequencer next state, refer to Sequencer and State Transition Table chapter. ">cy_stc_autanalog_sar_seq_tab_hs_t::nextAction</a>):</p><ul>
<li>NEXT - Go to the next sequencer state to proceed to the next step in a given ADC scan;</li>
<li>ENTRY_ADDR - Assert the SAR_EOS condition and jump to Entry State for continuous ADC scanning;</li>
<li>STOP - Assert the SAR_DONE and SAR_EOS conditions and go to Idle to indicate the end of a scan;</li>
</ul>
<p>The remaining fields of the sequencer are (common for HS//LP modes):</p><ul>
<li>enable and select the appropriate sample time configuration for a particular logical channel (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a3c7d9160af0df45b9e2513cb7a17f007" title="Enable the sample time option, refer to Sample Time chapter. ">cy_stc_autanalog_sar_seq_tab_hs_t::sampleTimeEn</a> and <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a78783c2220977296a6ba36cbab1d9f3f" title="Sample timer selection. ">cy_stc_autanalog_sar_seq_tab_hs_t::sampleTime</a>);</li>
<li>enable the averaging for the ADC conversion result and define the average count (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a7c7908c705fdbebc527fd112852f29d4" title="Enable the conversion averaging, refer to Averaging chapter. ">cy_stc_autanalog_sar_seq_tab_hs_t::accEn</a> and <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#ad931820d3e5f0ce6430316c48d152b4b" title="The averaging count for the selected averaging mode, see cy_stc_autanalog_sar_sta_t::accMode. ">cy_stc_autanalog_sar_seq_tab_hs_t::accCount</a>);</li>
</ul>
<p>Also, the HS sequencer allows you to configure the following:</p><ul>
<li>enable and select specific GPIO channels, refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#af06bcec918e103974beaed48d09121aa" title="Enable the GPIO channels, valid range 0...7, see High Speed Channels and Masks macros. ">cy_stc_autanalog_sar_seq_tab_hs_t::chanEn</a> with their configurations provided in the <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#ad5d223dfdba7d8bcf5a578ed870ff657" title="The array of pointers to configuration structures for GPIO channels, NULL means the channel is not co...">cy_stc_autanalog_sar_sta_hs_t::hsGpioChan</a>;</li>
<li>enable and select the operation mode for specific MUX channels, refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a2a9ebf5a9936e83872150aee87775e91" title="Define the operating mode of the MUX channels in HS mode, see High Speed Channels and Masks macros...">cy_stc_autanalog_sar_seq_tab_hs_t::muxMode</a>. Select the configurations for the enabled MUX channels <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a6988fb862436814cf51ceb0fb3950a62" title="MUX 0 channel selection, valid range 0...15, see Low Power Channels and Masks macros. ">cy_stc_autanalog_sar_seq_tab_hs_t::mux0Sel</a>, <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#ad1ec58bfe5ff3983117b328f405466a0" title="MUX 1 channel selection, valid range 0...15, see Low Power Channels and Masks macros. ">cy_stc_autanalog_sar_seq_tab_hs_t::mux1Sel</a> provided in the <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a09b5eea32576be65ba2faccb14d2cbfe" title="The array of pointers to configuration structures for MUX channels, NULL means the channel is not con...">cy_stc_autanalog_sar_sta_t::intMuxChan</a>;</li>
</ul>
<p>Also, the LP sequencer allows you to configure the following:</p><ul>
<li>enable the operation for the LP sampler <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html#a6a16e3b74fb5e24b3ff7980562c1eebc" title="Enable the LP channel. ">cy_stc_autanalog_sar_seq_tab_lp_t::chanEn</a> and select the configuration for the MUX channel <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html#a661dfa50671d26fca04f1259800077b8" title="MUX 0 channel selection, valid range 0...15. ">cy_stc_autanalog_sar_seq_tab_lp_t::mux0Sel</a> provided in the <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a09b5eea32576be65ba2faccb14d2cbfe" title="The array of pointers to configuration structures for MUX channels, NULL means the channel is not con...">cy_stc_autanalog_sar_sta_t::intMuxChan</a>;</li>
</ul>
<p>The ADC scan can be started by the Autonomous Controller (AC) in runtime per settings provided in the sequencer (refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html" title="The ADC Sequencer Table configuration structure for HS mode, refer to Sequencer and State Transition ...">cy_stc_autanalog_sar_seq_tab_hs_t</a>, <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html">cy_stc_autanalog_sar_seq_tab_lp_t</a>) and State Transition Table (refer to <a class="el" href="structcy__stc__autanalog__stt__sar__t.html">cy_stc_autanalog_stt_sar_t</a> structure).</p>
<dl class="section note"><dt>Note</dt><dd>When ADC is powered down, the ADC logic and FIRs are reset, ADC/FIR clocks are gated, and all ADC AC conditions are cleared. The ADC configuration and sequencer tables are retained. The FIFO status and content are not cleared, i.e. the FIFO contents can still be read if the ADC is disabled.</dd></dl>
<h1><a class="anchor" id="group_autanalog_sar_clk"></a>
Clock and Throughput</h1>
<table class="doxtable">
<tr>
<th>ADC mode </th><th>Clock source </th><th>Clock frequency, MHz </th><th>Throughput, samples/s  </th></tr>
<tr>
<td>High Speed </td><td>Clk_HF9 </td><td>80 </td><td>5Msps  </td></tr>
<tr>
<td>Low Power </td><td>LPOSC </td><td>4.096 </td><td>200ksps  </td></tr>
</table>
<h1><a class="anchor" id="group_autanalog_sar_sampling"></a>
Sample Time</h1>
<p>The sample time can be set separately for each HS\LP ADC Cores.</p>
<p>For HS mode, enable this option in the corresponding ADC sequencer, refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a3c7d9160af0df45b9e2513cb7a17f007" title="Enable the sample time option, refer to Sample Time chapter. ">cy_stc_autanalog_sar_seq_tab_hs_t::sampleTimeEn</a>, <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a78783c2220977296a6ba36cbab1d9f3f" title="Sample timer selection. ">cy_stc_autanalog_sar_seq_tab_hs_t::sampleTime</a>. And the selection of a particular value of the acquisition time is defined in the corresponding Static configuration, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#ac10f1b1ad736eb97ab27155cfbb67fe5" title="The array of sample time settings represented in clock cycles for ADC HS mode, actual value is SAMPLE...">cy_stc_autanalog_sar_sta_hs_t::hsSampleTime</a>.</p>
<p>For LP mode, enable this option in the corresponding ADC sequencer, refer to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html#ac005fe43f547978a0841761e7b747938" title="Enable the sample time option, refer to Sample Time chapter. ">cy_stc_autanalog_sar_seq_tab_lp_t::sampleTimeEn</a>, <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html#a76527ad34aaeffb6c049c8be626f7b76" title="Sample timer selection. ">cy_stc_autanalog_sar_seq_tab_lp_t::sampleTime</a>. The selection of a particular value of the acquisition time is defined in the corresponding Static configuration, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html#ab2e8ef637704a86171058702f852ac7e" title="The array of sample time settings represented in clock cycles for ADC LP mode, actual value is SAMPLE...">cy_stc_autanalog_sar_sta_lp_t::lpSampleTime</a>.</p>
<h1><a class="anchor" id="group_autanalog_sar_vref"></a>
Reference Voltage</h1>
<p>The level of the reference voltage can be defined separately for each HS\LP ADC Cores in the corresponding parts of the Static configuration, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#a75d1b49c9deb93eeda012c3555cee568" title="Select ADC voltage reference, refer to Reference Voltage chapter. ">cy_stc_autanalog_sar_sta_hs_t::hsVref</a> and <a class="el" href="structcy__stc__autanalog__sar__sta__lp__t.html#ad813e510edc5fcbe842064edc3a979f2" title="Select ADC voltage reference, refer to Reference Voltage chapter. ">cy_stc_autanalog_sar_sta_lp_t::lpVref</a>.</p>
<p>For the PRB configuration settings, refer to <a class="el" href="structcy__stc__autanalog__prb__t.html">cy_stc_autanalog_prb_t</a> structure.</p>
<dl class="section note"><dt>Note</dt><dd>Vdda is 1.8V and Vbgr is 0.9V</dd></dl>
<h1><a class="anchor" id="group_autanalog_sar_pump"></a>
Buffer Input and Output Ranges</h1>
<p>The input range of the buffer can be rail-to-rail if the charge pump is enabled. Without the charge pump, the input range is 0 V to VDDA - 1.5 V. The output range of the buffer is typically 0.2 V to VDDA - 1.0 V. See the device datasheet for more details.</p>
<table class="doxtable">
<tr>
<th>Charge Pump </th><th>Input Range </th><th>Output Range  </th></tr>
<tr>
<td>Enabled </td><td>0 V to VDDA </td><td>0.2 V to VDDA - 0.2 V  </td></tr>
<tr>
<td>Disabled </td><td>0 V to VDDA - 1.5 V </td><td>0.2 V to VDDA - 1.0 V  </td></tr>
</table>
<p>For the configuration settings, see <a class="el" href="group__group__autanalog__sar__enums.html#gae3dc7624dada9f328d2433e351932fed">cy_en_autanalog_sar_buf_pwr_t</a>.</p>
<h1><a class="anchor" id="group_autanalog_sar_sign"></a>
Signed/Unsigned Output</h1>
<p>The ADC conversion result and the FIR//FIFO output are represented as 32-bit width integer, (zero or sign extended) regardless of the actual resolution of the ADC.</p>
<p>For the configuration settings, refer to <a class="el" href="structcy__stc__autanalog__sar__hs__chan__t.html#a2ed9ef00fd3a4c93650fb487a3691067" title="Output data as a unsigned/signed value, for more details, refer to Signed/Unsigned Output chapter...">cy_stc_autanalog_sar_hs_chan_t::sign</a> and <a class="el" href="structcy__stc__autanalog__sar__mux__chan__t.html#af6ade8cac7caca7b18b3788ff313edaf" title="Output data as a unsigned/signed value, for more details, refer to Signed/Unsigned Output chapter...">cy_stc_autanalog_sar_mux_chan_t::sign</a>.</p>
<h1><a class="anchor" id="group_autanalog_sar_result"></a>
Handling of the Result</h1>
<p>The results of the ADC conversion or FIR filtering can be stored with further notification about update, or sent directly to the FIFO buffer. To save the result for a specific logical channel or FIR filter, use the following settings in the Static configuration:</p><ul>
<li>GPIO channels result mask, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__hs__t.html#adac0292b9ad756b0a5adb643a3fab3f8" title="GPIO channels result mask, valid range 0x0...0xFF. ">cy_stc_autanalog_sar_sta_hs_t::hsGpioResultMask</a>;</li>
<li>MUX channels result mask, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a59163863487201a2e1c351b1abac94e2" title="MUX channels result mask, valid range 0x0...0xFFFF. ">cy_stc_autanalog_sar_sta_t::muxResultMask</a>;</li>
<li>FIR filters result mask, refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#af6c56edfd96a8d8d62eb71e311b6a603" title="FIR filter result mask, valid range 0x0...0x3. ">cy_stc_autanalog_sar_sta_t::firResultMask</a>;</li>
</ul>
<h1><a class="anchor" id="group_autanalog_sar_avg"></a>
Averaging</h1>
<p>The ADC subsystem includes an accumulator and shift registers to support the averaging at the hardware level.</p>
<p>To configure the averaging for the ADC conversion result, use:</p><ul>
<li>enable the averaging (applies to all channels enabled in the sequencer) in the sequencer configuration (refer e.g. to <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#a7c7908c705fdbebc527fd112852f29d4" title="Enable the conversion averaging, refer to Averaging chapter. ">cy_stc_autanalog_sar_seq_tab_hs_t::accEn</a>);</li>
<li>enable and select Averaging mode in the Static configuration (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a7722e261efaee97378daa9fed5e38550" title="Enable ADC result averaging and configure averaging mode, refer to Averaging chapter. ">cy_stc_autanalog_sar_sta_t::accMode</a>)<ul>
<li>ACCUNDUMP - the enabled channels will be sampled, converted, and accumulated back to back. After e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#ad931820d3e5f0ce6430316c48d152b4b" title="The averaging count for the selected averaging mode, see cy_stc_autanalog_sar_sta_t::accMode. ">cy_stc_autanalog_sar_seq_tab_hs_t::accCount</a> times, the accumulated results for each enabled channels are optionally shifted (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__hs__chan__t.html#a74abbeb6ef08bae85aed7ea2f0003911" title="Enable the averaging in the HW: Enable the right shift of the accumulated result for cy_stc_autanalog...">cy_stc_autanalog_sar_hs_chan_t::accShift</a>);</li>
<li><p class="startli">INTERLEAVED - the enabled channels will be sampled, converted, and accumulated once per scan. After e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__lp__t.html#a1055434b575fcb3f34790b179584d94d" title="The averaging count for the selected averaging mode, see cy_stc_autanalog_sar_sta_t::accMode. ">cy_stc_autanalog_sar_seq_tab_lp_t::accCount</a> scans, the accumulated results for each enabled channels are optionally shifted (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__mux__chan__t.html#a387818b1cc284ab453b5170b50b067f7" title="Enable the averaging in the HW: Enable the right shift of the accumulated result for cy_stc_autanalog...">cy_stc_autanalog_sar_mux_chan_t::accShift</a>);</p>
<dl class="section note"><dt>Note</dt><dd>The requirements for using the interleaved averaging:<ol type="1">
<li>The Entry State must have the averaging enabled;</li>
<li>The same value for the average count must be used across all states with enabled averaging;</li>
<li>The AC cannot trigger the ADC with different multiple Entry States (scans);</li>
<li>The SAR generates a SAR_DONE status at the end of every scan (unless configured for continuous operation, at which point only a SAR_EOS is generated), regardless of the value of average count. If all channels in the scan are averaged, the AC can poll the SAR_RESULT or any of the SAR_(FIR)_FIFO_DONE events triggers to determine when the averaged results are available. If only a subset of channels are averaged in a scan, it is up to the AC to count the number of scans to determine when the averaged results are available.</li>
</ol>
</dd></dl>
</li>
</ul>
</li>
<li>define the average count in the sequencer configuration (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#ad931820d3e5f0ce6430316c48d152b4b" title="The averaging count for the selected averaging mode, see cy_stc_autanalog_sar_sta_t::accMode. ">cy_stc_autanalog_sar_seq_tab_hs_t::accCount</a>);</li>
<li>enable the averaging execution in HW (refer to e.g. <a class="el" href="structcy__stc__autanalog__sar__hs__chan__t.html#a74abbeb6ef08bae85aed7ea2f0003911" title="Enable the averaging in the HW: Enable the right shift of the accumulated result for cy_stc_autanalog...">cy_stc_autanalog_sar_hs_chan_t::accShift</a>);</li>
<li>define the mode of the average shift (result resolution) if the averaging is carried out by the HW (refer to <a class="el" href="structcy__stc__autanalog__sar__sta__t.html#a5f7176ce27b189df99e0f5716ea4756c" title="Set the resolution of the averaging result if averaging performed by HW, refer to Averaging chapter...">cy_stc_autanalog_sar_sta_t::shiftMode</a>):<ul>
<li>TWELVE - after the last accumulation, the result is shifted back to 12 bits;</li>
<li>SIXTEEN - after the last accumulation, if the average count &gt;= 32, the result will be shifted back to 16-bits, if the average count &lt; 32, no shift will be done as the result is already guaranteed to fit in 16 bits.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="group_autanalog_sar_fir"></a>
FIR Filter</h1>
<p>Two instances of the 64-tap FIR filters are available for the ADC post-processing.</p>
<p>The FIR filter configuration (refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html">cy_stc_autanalog_sar_fir_cfg_t</a>) includes:</p><ul>
<li>the source for the FIR filter input defined in <a class="el" href="group__group__autanalog__sar__enums.html#gab6360bad9e095154a1ff40eabb54d518">cy_en_autanalog_sar_fir_channel_t</a>;</li>
<li>the FIR filter order, refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a2014e1ae83fd0cb1750bc438b45df324" title="The tap value, actual value is TAP_SEL + 1, valid range 1...64. ">cy_stc_autanalog_sar_fir_cfg_t::tapSel</a>;</li>
<li>the array of FIR filter coefficients, refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a0a85179b130267d88f294dbba3d422cb" title="The array of FIR filter coefficients, the size of the array is defined by defined by cy_stc_autanalog...">cy_stc_autanalog_sar_fir_cfg_t::coeff</a>.<br />
 The coefficient values may range from -1 + 1/2^15 to 1 - 1/2^15, with a resolution of 1/2^15.<br />
 The coefficient uses the two-complement notation and the decimal point is fixed to the right of the most significant bit.<br />
 Example: -0.25 = 0xE000 and 0.25 = 0x2000</li>
<li>the FIR filter output scaling, refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a0b5a5874afa9ff6cc3ddaf12aa434162" title="FIR filter output scaling: shift the FIR filter output to the right by the specified number...">cy_stc_autanalog_sar_fir_cfg_t::shiftSel</a>;</li>
<li>the FIR filter output init delay, refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a9999a9288439be6b00bc74ac594baaf1" title="FIR filter output init delay: wait for a specified number of updates before outputting first valid da...">cy_stc_autanalog_sar_fir_cfg_t::waitTapInit</a>;</li>
<li>routing the FIR filter output to the FIFO, refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a1f21e3f9c9f416c7d5d1428c54c1e748" title="Define use of FIFO and select buffer if required, refer to FIFO (The buffer block to store collected ...">cy_stc_autanalog_sar_fir_cfg_t::fifoSel</a>;</li>
<li>range detection, refer to refer to <a class="el" href="structcy__stc__autanalog__sar__fir__cfg__t.html#a80f7d8abea4594ae09e06783e084b4bd" title="The status selector for the FIR filter output range. ">cy_stc_autanalog_sar_fir_cfg_t::firLimit</a>;</li>
</ul>
<h1><a class="anchor" id="group_autanalog_sar_int"></a>
Interrupts, Triggers and STT Events</h1>
<p>The following internal events of the ADC can be configured to generate an interrupt or trigger or used as the STT event in the Autonomous Analog (refer to <a class="el" href="group__group__autanalog__ac__enums.html#ga768fe80c98ba584dd74ba62278d57b31">cy_en_autanalog_ac_out_trigger_mask_t</a> and <a class="el" href="group__group__autanalog__ac__enums.html#ga07c8c6d1282fb7e5b1f4e4425af6d9d2">cy_en_autanalog_stt_ac_condition_t</a>):</p><ul>
<li>SAR_EOS - Indicates the end of the scanning of the logical ADC channels by the sequencer;</li>
<li>SAR_RESULT (interrupt only) - Indicates an updated ADC conversion result;</li>
<li>SAR_DONE - Indicates that the sequencer stopped scanning the ADC;</li>
<li>SAR_RANGE - Indicates range detection conditions;</li>
<li>SAR_FIR_RESULT (interrupt only) - Indicates an updated FIR filter calculation result;</li>
<li>SAR_BUSY (STT event only) - Indicates that the ADC is in conversion;</li>
<li>SAR_FIR_DONE (STT event only) - Indicates an updated FIR filter result;</li>
<li>SAR_FIFO_DONE (STT event only) - Indicates SAR_DONE ANDED with FIFO writing complete;</li>
<li>SAR_FIR_FIFO_DONE (STT event only) - Indicates that the FIR filter result is sent to the FIFO;</li>
</ul>
<p>Refer to <a class="el" href="group__group__autanalog__fifo.html#group_autanalog_fifo_int">Interrupts, Triggers and STT Events</a> chapter for the FIFO events.</p>
<h1><a class="anchor" id="group_autanalog_sar_sample1"></a>
Sample use case: Die Temperature</h1>
<div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* Scenario 1:</span></div><div class="line"><span class="comment"> * This example illustrates the use of the SAR ADC to measure the chip temperature in High speed mode.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;autanalog_sar.h&quot;</span></div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* Define the index for the ADC0 instance within the Autonomous Analog */</span></div><div class="line"><span class="preprocessor">#define ADC0IDX                                                   (0U)</span></div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">/* The GPIO channels are NOT USED */</span></div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* The MUX channels configuration structure */</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="structcy__stc__autanalog__sar__mux__chan__t.html">cy_stc_autanalog_sar_mux_chan_t</a> intMuxChan0 =</div><div class="line">{</div><div class="line">    .<a class="code" href="structcy__stc__autanalog__sar__mux__chan__t.html#aaa311a49eeece23badeef112e949ddd2">posPin</a>     = <a class="code" href="group__group__autanalog__sar__enums.html#ggaaeb0350dff62f4033b50c0fdf5066163a166a03aeba3d7474b21f47749fa5ec19">CY_AUTANALOG_SAR_PIN_MUX_TEMP_SENSOR</a>,           <span class="comment">// The temperature sensor in differential connection</span></div><div class="line">    .sign       = <span class="keyword">true</span>,                                           <span class="comment">// Signed result is used for die temperature</span></div><div class="line">    .posCoeff   = <a class="code" href="group__group__autanalog__sar__enums.html#gga117bccdf177de846ea768926dbd2d9b1a23a2005208102e16f42cb35fc0652e1a">CY_AUTANALOG_SAR_CH_COEFF_DISABLED</a>,             <span class="comment">// The correction coefficient is not used</span></div><div class="line">    .negPin     = <a class="code" href="group__group__autanalog__sar__enums.html#ggaaeb0350dff62f4033b50c0fdf5066163a166a03aeba3d7474b21f47749fa5ec19">CY_AUTANALOG_SAR_PIN_MUX_TEMP_SENSOR</a>,           <span class="comment">// The temperature sensor in differential connection</span></div><div class="line">    .buffBypass = <span class="keyword">true</span>,                                           <span class="comment">// The output of the temperature sensor is bypassed</span></div><div class="line">    .accShift   = <span class="keyword">false</span>,                                          <span class="comment">// The averaging is not used</span></div><div class="line">    .negCoeff   = <a class="code" href="group__group__autanalog__sar__enums.html#gga117bccdf177de846ea768926dbd2d9b1a23a2005208102e16f42cb35fc0652e1a">CY_AUTANALOG_SAR_CH_COEFF_DISABLED</a>,             <span class="comment">// The correction coefficient is not used</span></div><div class="line">    .muxLimit   = <a class="code" href="group__group__autanalog__sar__enums.html#gga045911209f6103437e61e2d06bd4031fa31ad2aeaeb819fc8b40bd2dca0981483">CY_AUTANALOG_SAR_LIMIT_STATUS_DISABLED</a>,         <span class="comment">// The range is not checked</span></div><div class="line">    .fifoSel    = <a class="code" href="group__group__autanalog__fifo__enums.html#gga02ab308d00a148d227ac9ed468e4ad7da0d47c116560868736fccf2e542fa7810">CY_AUTANALOG_FIFO_DISABLED</a>,                     <span class="comment">// FIFO is not used</span></div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* The HS mode static configuration structure */</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="structcy__stc__autanalog__sar__sta__hs__t.html">cy_stc_autanalog_sar_sta_hs_t</a> sarStaHsCfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="structcy__stc__autanalog__sar__sta__hs__t.html#a75d1b49c9deb93eeda012c3555cee568">hsVref</a>           = <a class="code" href="group__group__autanalog__sar__enums.html#gga85cf0c31b737247c6e0d1f96bbb1d6dbab18c5d2ce181b43150cbddd3ac166311">CY_AUTANALOG_SAR_VREF_VBGR</a>,               <span class="comment">// Vbgr is used as a reference voltage</span></div><div class="line">    .hsSampleTime     = {1023U, 0U, 0U, 0U},                      <span class="comment">// Define the sample time: (1/80MHz) * 1024 = = ~13us</span></div><div class="line">    .hsGpioChan       = {NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL},</div><div class="line">    .hsGpioResultMask = <a class="code" href="group__group__autanalog__sar__hs__chan__macros.html#gab62ef7dcb5ff061a6874f0bc31a031b2">CY_AUTANALOG_SAR_CHAN_MASK_GPIO_DISABLED</a>, <span class="comment">// Not used</span></div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* Compleate static configuration structure */</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="structcy__stc__autanalog__sar__sta__t.html">cy_stc_autanalog_sar_sta_t</a> sarStaCfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="structcy__stc__autanalog__sar__sta__t.html#a38553ade650a184fcb8aa3da117d9594">lpStaCfg</a>      = NULL,</div><div class="line">    .hsStaCfg      = &amp;sarStaHsCfg,</div><div class="line">    .posBufPwr     = <a class="code" href="group__group__autanalog__sar__enums.html#ggae3dc7624dada9f328d2433e351932feda7e5a3b5bdd8e086eab7d8f7522e947fc">CY_AUTANALOG_SAR_BUF_PWR_OFF</a>,                <span class="comment">// The temperature sensor output is unbuffered</span></div><div class="line">    .negBufPwr     = <a class="code" href="group__group__autanalog__sar__enums.html#ggae3dc7624dada9f328d2433e351932feda7e5a3b5bdd8e086eab7d8f7522e947fc">CY_AUTANALOG_SAR_BUF_PWR_OFF</a>,                <span class="comment">// The temperature sensor output is unbuffered</span></div><div class="line">    .accMode       = <a class="code" href="group__group__autanalog__sar__enums.html#ggadbd21753b59d57c356648e8fedcd7b7aaed99b55782e9a02a43ecacdd881741f6">CY_AUTANALOG_SAR_ACC_DISABLED</a>,               <span class="comment">// The temperature sensor value is not averaged</span></div><div class="line">    .startupCal    = <a class="code" href="group__group__autanalog__sar__enums.html#ggad05092f9ad337d26b7f11a0ce6275b83a2a574891c3c19beaece0bc70f414aa0d">CY_AUTANALOG_SAR_CAL_DISABLED</a>,               <span class="comment">// Not used</span></div><div class="line">    .chanID        = <span class="keyword">false</span>,                                       <span class="comment">// Not used</span></div><div class="line">    .shiftMode     = <span class="keyword">false</span>,                                       <span class="comment">// The temperature sensor value is not averaged</span></div><div class="line">    .intMuxChan    = {&amp;intMuxChan0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL},</div><div class="line">    .limitCond     = {NULL, NULL, NULL, NULL},                    <span class="comment">// The range is not checked</span></div><div class="line">    .muxResultMask = <a class="code" href="group__group__autanalog__sar__lp__chan__macros.html#gaa9ce5c257439fa916b1201352628fe79">CY_AUTANALOG_SAR_CHAN_MASK_MUX0</a>,             <span class="comment">// The conversion result is stored for MUX channel #0</span></div><div class="line">    .firResultMask = <a class="code" href="group__group__autanalog__fir__macros.html#gafc6cd10d188de4272be535f426ee25db">CY_AUTANALOG_SAR_MASK_FIR_DISABLED</a>,          <span class="comment">// Not used</span></div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* The HS sequencer configuration structure */</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html">cy_stc_autanalog_sar_seq_tab_hs_t</a> sarHsSeqTabCfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="structcy__stc__autanalog__sar__seq__tab__hs__t.html#af06bcec918e103974beaed48d09121aa">chanEn</a>       = <a class="code" href="group__group__autanalog__sar__hs__chan__macros.html#gab62ef7dcb5ff061a6874f0bc31a031b2">CY_AUTANALOG_SAR_CHAN_MASK_GPIO_DISABLED</a>,     <span class="comment">// Not used</span></div><div class="line">    .muxMode      = <a class="code" href="group__group__autanalog__sar__hs__chan__macros.html#ga65e482e21967da088fb844e4bb637d8d">CY_AUTANALOG_SAR_CHAN_CFG_MUX0_PSEUDO_DIFF</a>,   <span class="comment">// Enable MUX channel #0 in the pseudo differential configuration</span></div><div class="line">    .mux0Sel      = <a class="code" href="group__group__autanalog__sar__lp__chan__macros.html#ga23bd71a818be5427b6c373b6199c2a1a">CY_AUTANALOG_SAR_CHAN_CFG_MUX0</a>,               <span class="comment">// Enable MUX channel #0</span></div><div class="line">    .mux1Sel      = <a class="code" href="group__group__autanalog__sar__hs__chan__macros.html#ga6aa155f42fb78c084b7190895e6e97df">CY_AUTANALOG_SAR_CHAN_CFG_MUX_DISABLED</a>,       <span class="comment">// Not used</span></div><div class="line">    .sampleTimeEn = <span class="keyword">true</span>,                                         <span class="comment">// Enable the sample time for the temperature sensor</span></div><div class="line">    .sampleTime   = <a class="code" href="group__group__autanalog__sar__enums.html#gga87853f85d87da1f3a28d195994fc3d45afb4f2a03ed97c683b908f9e268b92ddb">CY_AUTANALOG_SAR_SAMPLE_TIME0</a>,                <span class="comment">// Use the sample time from cy_stc_autanalog_sar_sta_hs_t::hsSampleTime</span></div><div class="line">    .accEn        = <span class="keyword">false</span>,                                        <span class="comment">// The temperature sensor value is not averaged</span></div><div class="line">    .accCount     = <a class="code" href="group__group__autanalog__sar__enums.html#ggabad9bf21a30e85f9cf41cfb57d7ce061ae2b40d51f58a724ca96c4bca021308ce">CY_AUTANALOG_SAR_ACC_CNT2</a>,                    <span class="comment">// The temperature sensor value is not averaged</span></div><div class="line">    .calReq       = <a class="code" href="group__group__autanalog__sar__enums.html#ggad05092f9ad337d26b7f11a0ce6275b83a2a574891c3c19beaece0bc70f414aa0d">CY_AUTANALOG_SAR_CAL_DISABLED</a>,                <span class="comment">// Not used</span></div><div class="line">    .nextAction   = <a class="code" href="group__group__autanalog__sar__enums.html#gga1b4e10fdf0583ff0a0196e633b0c8bb9a8f4089aff4ea5156ad382b230f832baa">CY_AUTANALOG_SAR_NEXT_ACTION_STATE_STOP</a>,      <span class="comment">// The ADC mode of operation is single scan</span></div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* The ADC configuration structure */</span></div><div class="line"><a class="code" href="structcy__stc__autanalog__sar__t.html">cy_stc_autanalog_sar_t</a> sarCfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="structcy__stc__autanalog__sar__t.html#aa4ee1d13c92974e877a1c9dee2a5ee09">sarStaCfg</a>   = &amp;sarStaCfg,</div><div class="line">   </div><div class="line">    .hsSeqTabNum = 1U,                                            <span class="comment">// The ADC LP Core sequencer contains one state</span></div><div class="line">    .hsSeqTabArr = &amp;sarHsSeqTabCfg,</div><div class="line">   </div><div class="line">    .lpSeqTabNum = 0U,                                            <span class="comment">// The ADC LP Core sequencer is not used but is mandatory</span></div><div class="line">    .lpSeqTabArr = NULL,</div><div class="line"></div><div class="line">    .firNum      = 0U,                                            <span class="comment">// The FIR filtering is not used</span></div><div class="line">    .firCfg      = NULL,</div><div class="line"></div><div class="line">    .fifoCfg     = NULL,                                          <span class="comment">// The FIFO buffer is not used</span></div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line"><span class="comment">/* The ADC State Transition Table */</span></div><div class="line"><a class="code" href="structcy__stc__autanalog__stt__sar__t.html">cy_stc_autanalog_stt_sar_t</a> sarStt[] =</div><div class="line">{</div><div class="line">    <span class="comment">/* State#0, start-up/settling delay */</span></div><div class="line">    {</div><div class="line">        .<a class="code" href="structcy__stc__autanalog__stt__sar__t.html#ada7f0755d2c613817b1bda1e81ad31fe">unlock</a>     = <span class="keyword">true</span>,</div><div class="line">        .enable     = <span class="keyword">true</span>,</div><div class="line">        .trigger    = <span class="keyword">false</span>,</div><div class="line">        .entryState = 0U,</div><div class="line">    },</div><div class="line">    <span class="comment">/* State#1, wait for external trigger to start conversion */</span></div><div class="line">    {</div><div class="line">        .unlock     = <span class="keyword">true</span>,</div><div class="line">        .enable     = <span class="keyword">true</span>,</div><div class="line">        .trigger    = <span class="keyword">false</span>,</div><div class="line">        .entryState = 0U,</div><div class="line">    },</div><div class="line">    <span class="comment">/* State#2, temperature measurement (ADC conversion) */</span></div><div class="line">    {</div><div class="line">        .unlock     = <span class="keyword">true</span>,</div><div class="line">        .enable     = <span class="keyword">true</span>,</div><div class="line">        .trigger    = <span class="keyword">true</span>,                                       <span class="comment">// Trigger is active</span></div><div class="line">        .entryState = 0U,                                         <span class="comment">// Sequencer Entry State value</span></div><div class="line">    },</div><div class="line">    <span class="comment">/* State#3, return to state #1 */</span></div><div class="line">    {</div><div class="line">        .unlock     = <span class="keyword">true</span>,</div><div class="line">        .enable     = <span class="keyword">true</span>,</div><div class="line">        .trigger    = <span class="keyword">false</span>,</div><div class="line">        .entryState = 0U,</div><div class="line">    },</div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The configuration must be done only under the AC in High Speed mode, when <a class="el" href="structcy__stc__autanalog__stt__ac__t.html#ad8b755e2429d3d4f210b2571afe56950">cy_stc_autanalog_stt_ac_t::lpMode</a> is equal to FALSE.</dd></dl>
<div class="fragment"><div class="line"></div><div class="line">    <a class="code" href="group__group__autanalog__enums.html#ga720c4a47874d251fb7e46aff083507e7">cy_en_autanalog_status_t</a> status;</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line"></div><div class="line">    status = <a class="code" href="group__group__autanalog__sar__functions__init.html#ga97809d4d952f632ba873fed76177de68">Cy_AutAnalog_SAR_LoadConfig</a>(ADC0IDX, &amp;sarCfg);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__group__autanalog__enums.html#gga720c4a47874d251fb7e46aff083507e7ae5d7d4a174f8f9099b94ced1cc863143">CY_AUTANALOG_SUCCESS</a> != status)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Error handling */</span></div><div class="line">    }</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__autanalog__sar__macros"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__autanalog__sar__macros.html">Macros</a></td></tr>
<tr class="memdesc:group__group__autanalog__sar__macros"><td class="mdescLeft">&#160;</td><td class="mdescRight">group_autanalog_fifo <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__autanalog__sar__functions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__autanalog__sar__functions.html">Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__autanalog__sar__data__structures"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__autanalog__sar__data__structures.html">Data Structures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__autanalog__sar__enums"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__autanalog__sar__enums.html">Enumerated Types</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>MTB CAT1 Peripheral driver library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
